#+STARTUP: showall
#+OPTIONS: todo:nil tasks:nil tags:nil toc:nil
#+PROPERTY: header-args :eval never-export
#+EXCLUDE_TAGS: Noexport
#+PROPERTY: header-args :results output pp replace
#+LATEX_HEADER: \usepackage{breakurl}
#+LATEX_HEADER: \usepackage{Newuli}
#+LATEX_HEADER: \usepackage{uli-german-paragraphs}
#+latex_header: \usepackage{makeidx}}


* ESS345 Computational Geology: Interacting with Jupyter
  :PROPERTIES:
  :Attachments:
  :ID:       4139ac42-f104-4a75-a1b1-076a16d0c563
  :END:







To create a computer program, we need the following ingredients:

1) A text editor that allows us to write computer code.
2) Some program which executes our code
4) And a way to see the results of our code

There are many ways to achieve the above, but typically most people
use what is commonly referred to as an "Integrated Development
Environment" or IDE. There is an enormous variety of IDE's available,
but most require a local installation. For this course, we will use a
web-based IDE, which is called =Jupyter=, which is widely used in the
sciences as well as in business environments.

In this unit you will learn:

1) How to access a Jupyter server @@latex:\index{Juypter!server}@@
2) How to open a Jupyter notebook @@latex:\index{Juypter!notebook}@@

Jupyter servers can run locally on your computer, are available
commercially for a fee, and some are even available for free
(e.g., googles colab). For this course, we will use a Jupyter server
which is provided by Compute Canada, and can be accessed with your
UTorID.

There are different ways to access your Jupyter account. In this
course, we will use this somewhat lengthy URL:

\ulr{https://utoronto.syzygy.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fuliw%2FESS345&urlpath=tree%2FESS345%2F&branch=master}

If you look careful you see that the first part specifies the utoronto
jupyter server, which is followed by a redirect to a program called
git-pull with a references the github repository I use for the course
materials. This will first authenticate you, then download or update
the course materials, and then start your jupyter interface.

So if you click on this link it should open a browser window with the
link (see Fig. ref:blink) (BTW, Sometimes this process fails with an
error message. See below how to resolve them.)
#+ATTR_LATEX: :width 0.7\textwidth
#+name: blink
#+caption: This is what you will briefly see in your browser status line
[[./Tianshi/TL-fig-001.png]]

and this will then take you to your UtorId login screen (Fig. ref:utorid)
#+ATTR_LATEX: :width 0.7\textwidth
#+name: utorid
#+caption: The UTorID login screen
[[./Tianshi/TL-fig-002.png]]

and finally you should see a screen like the one shown in
Fig. ref:fig-one (but without the =My_Stuff= directory).
#+ATTR_LATEX: :width 5cm
#+name: fig-one
#+caption: The home screen of your Jupyter session. Note that yours 
#+caption: might look slightly different.
#+ATTR_LATEX: :width 10cm
[[./figures/Screenshot_20200527_125640.png]]

For now, don't click on anything, but let's have a look around. If you
are unable to see any of the following elements, ask your neighbor, or
speak up!

You can see the Jupyter label in the top right corner, the =Logout= and
=Control Panel= buttons in the top right corner. Next comes a line with
tabs for =Files=, =Running=, =Clusters=, followed by a line with
buttons for =Upload=, =New=, and =Reload=.  This is followed by a table.

The table header starts with a button that lets you select all files
or only specific file types. Next comes the blue breadcrumb, which
indicates your position in the file system tree. It should read
=ESS345=. The next button lets you sort the table by =Name=, the date
when the file was =Last Modified=, or the =File Size=.

The table rows contain a variety of entries, where each entry type is
signified by a different icon. 

1) The first one is a folder symbol with no name, but two dots. This
   symbol represents the folder which contains the =ESS345= folder
   (i.e., one up). If you click on it, you will go to your home
   folder. You can return to the =ESS345= folder by clicking on the
   =ESS345= folder symbol.
2) Once you are back in the =ESS345= folder, the next file you see is
   the syllabus. This file shows the notebook icon, and also has the
   =.ipynb= extension which denotes all jupyter notebooks. If the
   notebook is open and active, this icon will be green, otherwise it
   will be gray.
3) The next two icons show a paper symbol, which denotes a text
   file. You can click on these files and read them. If you are done
   reading, simply click on the jupyter icon in the upper left corner
   to return back to the folder view.

Let's make some changes:

  1) go to your home directory (i.e. one up from ESS345) and in the
     upper right corner, select =New= and =Folder= see
     Fig. ref:nfolder
  #+ATTR_LATEX: :width 0.7\textwidth
  #+name: nfolder
  #+caption: Creating a new folder. Note that we do this from the home directory, i.e., one up from =ESS345=
  [[./figures/Screenshot_20200527_124326.png]]

  2) [@2] This will create a new folder called =Untitled
     Folder=. Select the check-mark left of the folder name, and then
     click rename in the upper left corner, and rename the new folder
     =My_Stuff=. Your screen should now look like Fig. ref:homed This
     new folder will hold all your own jupyter notebooks.

#+ATTR_LATEX: :width 0.7\textwidth
#+name: homed
#+caption: Your home directory should now look like this.
[[./figures/Screenshot_20200527_125640.png]]


** Jupyter Connection Problems

 - If this is first time you try to download the course materials
   - Sometimes, the process which downloads the course data from the
     github repository fails. In this case do the following
   - Close all windows which point to https://utoronto.syzygy.ca/
   - Log in to https://utoronto.syzygy.ca/ using this link (not the one in the textbook)
   - Select "New" -> "Terminal" on the right hand side
   - This will open a command line terminal
   - Enter the following command at the prompt: =git clone https://github.com/uliw/ESS345=
   - Hit enter
   - This will download all the ESS345 course materials
   - Now close your syzygy session
   - Once you logged out of everything, you should be able to use the link in the textbook
 - If you were previously successful, you have two options. Simply
   login without calling the update routine (i.e., use
   https://utoronto.syzygy.ca/), and navigate to whatever directory
   you need to (the textbook shows the relevant paths for each
   chapter), or, you follow these instructions:
   - Close all windows which point to https://utoronto.syzygy.ca/
   - Log in to https://utoronto.syzygy.ca/ using this link (not the one in the textbook)
   - Select "New" -> "Terminal" on the right hand side
   - This will open a command line terminal. Go to your course home directory with =cd ESS345=
   - Enter the following command at the prompt: =sh resert-git.sh=
   - Hit enter
   - This will re-download all the ESS345 course materials
   - Now close your syzygy session
   - Once you logged out of everything, you should be able to use the link in the textbook
** Recap

In this module, you should have learned:

  1) How to access the Jupyter server @@latex:\index{notebook!server!access}@@
  2) How to create and name folders (directories) on the Jupyter
     server @@latex:\index{notebook!folder!create}@@
  3) How to resolve Jupyter connection  and github update problems


